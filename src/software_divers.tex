
\section{Genesis}
Doom did not always have a BSP. Only after April 1993, when the team had to do Wolfnenstein 3D within three weeks, did the engine renderer change.\\
\par
\fq{It was still built out of "sectors" -- complex polygonal regions with a common floor / ceiling texture and height, but it didn’t have the BSP-chopped "subsectors".  It started in the view sector and recursively flowed into the adjourning sectors, but because they could all be complex polygons it was a lot of record keeping to know what parts you had already visited or were in the stack somewhere.  It worked, and simple areas were fast, but it slowed down precipitously with complexity.}{John Carmack}

\subsection{Doom Bible}

\subsection{Early version}

First window ever.\\
Romero broke the engine.\\
\fullimage{SCREEN00.png}


\section{Architecture}
TOOD: Flamegraph on linux. Also do it on NextStep with gdb: http://poormansprofiler.org/\\
TOOD: Measure doom speedup due to ASM with DoomPC\\
\ccode{pc_main.c}
\par

\par
\fq{
Why wasn't Doom coded in C++?\\
\par 
I believe the reason was because DOOM was our first game that used a DOS Extender and there were no C++ compilers available at that time that used DOS Extenders.  Another reason could have been because we were doing all the code on NeXT computers under NEXTSTEP and there was no C++ compiler, only Objective-C.  We would compile and link the code (typed on the NeXT systems) on the Intel systems and then run the game.}
{- John Romero}




comp.sys.next.advocacy ›
DOOM: NeXTstep's Most Successful App

\fq{
The NeXT version does not have the full  
feature polish that the dos version has, just because we can't spare  
the time for it.  It's basically the same thing, though.

The way our development works is that I write the entire game in  
portable ansi C, then have different hardware abstraction files for  
NEXTSTEP, dos, X, windows, etc.  The tools can be NS specific, because  
we don't need to provide them for anyone else (the two companies we are  
working with on DOOM style games are now NS converts).

Our biggest mistake during DOOM development was the contracting of an  
outside party to do dos sound drivers.  Because we had this black box  
functionality coming, I didn't simulate it under NS.  BAAAAAD mistake.   
All future work will be entirely developed under NS, with only DMA  
buffer flipping being the hardware layer.  We will probably also run  
midi under NS for music (which will be dynamically tuned to the game  
situation in Quake).}
{- John Carmack}

\section{Three Screen Mode}
\section{Door}
Door code to make them open horizontally.
\section{Texture Mapping}
Persepctive correct was too expensive. But since only one axis had to be corrected, there was a way to get away with fast affine texture mapping.\\
https://www.doomworld.com/forum/topic/86977-doom-affine-texture-mapping-edition/\\
\par
\section{Audio}
Sound Blaster 1.0 support was included in v1.1, Pro Audio Spectrum 16 stereo in v1.2, and Sound Blaster AWE32 in v1.666.

\section{Network}
The networking code was completely rewritten in v1.2. The networking component was stripped out of the main executable and into separate IPXSETUP.EXE and SERSETUP.EXE drivers. Using networked PCs, it is possible to extend the game's field of view over three monitors. The player needs to set up a network game on the center PC, then the left and right PCs must launch with the -left and -right parameters. 